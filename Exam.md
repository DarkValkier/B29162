# Задание на экзамен Python Senior

## Класс Person (_6 баллов_)
Создать класс `Person`, описывающий состояние и поведение человека. У него должны быть следующие поля: 
- имя (строка)
- состояние здоровья (целое число)
- настроение (целое число)
- деньги (дробное число)

В качестве методов реализовать следующие функции:

1. **\_\_str\_\_**

   - **Параметры:** нет

   - **Принцип работы:** должен возвращать строку, в которой перечисляются все поля класса и их значения на данный момент.

Пример метода \_\_str\_\_ для класса [Character](https://github.com/DarkValkier/C29246/blob/master/Lesson_1/character.py#L20):
```python
def __str__(self):
        return \
            f' === {self.name} ===\n' \
            f' Здоровье: {self.hp} / {self.max_hp}\n' \
            f' Урон: {self.damage}\n' \
            f' Защита: {self.defence}\n'
```

2. **change_state**

   - **Параметры:** `здоровье`, `настроение`, `деньги` (у всех параметров должно быть значение по-умолчанию 0)

   - **Принцип работы:** изменяет соответствующие поля класса на указанные значения (ВАЖНО: не заменяет, а изменяет!). Например, мы вызвали эту функцию, передав ей только значение капитала -10. Это значит, что у человека от поля капитала нужно отнять 10.
В случае, если один из параметров падает ниже нуля, метод должен выдать ошибку, для каждого параметра свою. Ошибки можно придумать самому.
Можно указать такие ошибки:
      - Если `здоровье` падает ниже нуля — человек скончался;
      - Если `настроение` падает ниже нуля — человек впал в депрессию;
      - Если `деньги` падают ниже нуля — человек обанкротился.

Для каждой ошибки в методе `change_state` создать отдельный класс, унаследованный от класса Exception (аналогично классу [NegativeDamage](https://github.com/DarkValkier/C29246/blob/master/Lesson_2/main.py#L1) из [второго урока](https://github.com/DarkValkier/C29246/tree/master/Lesson_2)).

  Пример использования метода `change_state`:
  ```python
  human = Person(name='Тарас', money = 0, mood = 100, health = 100)
  
  print(human)
  # === Тарас ===
  # Здоровье: 100
  # Настроение: 100
  # Капитал: 0
  
  human.change_state(
          money = 100,
          mood = -20,
          health = -5
      )
  
  print(human)
  # === Тарас ===
  # Здоровье: 95
  # Настроение: 80
  # Капитал: 100
  ```

## Проверка функционала класса Person (_2 балла_)
Для проверки работы создать 3 объекта класса `Person` (желательно объединить в `List`, т.е. список) и в бесконечном цикле (`while True`) случайным образом изменять состояние объектов (каждого отдельно). Для изменений сделать 2 варианта: работа (добавляет деньги, отнимает здоровье и настроение) и отдых (добавляет настроение и здоровье, но может отнять деньги). Вариант изменения выбирать случайным образом. В цикле отлавливать ошибки, которые выдаёт метод `change_state`.

Пример изменения состояния человека при работе (без цикла `while True`):
```python
import random

human = Person(name = 'Тарас', money = 0, mood = 100, health = 100)
human.change_state(
        money = random.randint(50, 100),
        mood = random.randint(-20, -10),
        health = random.randint(-10, -5)
    )
```

Цикл должен прерваться тогда, когда у всех трёх объектов класса `Person` закончится какой-либо из ресурсов. Например, можно удалять объекты из списка, когда они выдают исключения. В таком случае цикл должен продолжатся до тех пор, пока в списке есть элементы.

## Реализация класса Action (_2 балла_)
Реализовать класс `Action`, который представляет из себя занятие, влияющее на состояние человека. У этого класса нет методов, только те же поля, что и у класса `Person` (название, здоровье, настроение, деньги), которые будут показывать как именно это занятие повлияет на человека. Добавить в класс `Person` метод `do`, который будет принимать в себя объект класса `Action` и изменять состояние человека согласно значениям в `Action`.

Например, использование объекта класса `Action` в объекте класса `Person` может выглядеть так:
```python
human = Person(name = 'Тарас', money = 0, mood = 100, health = 100)

print(human)
# === Тарас ===
# Здоровье: 100
# Настроение: 100
# Капитал: 0

go_to_park = Action(name = 'Сходить в парк', money = 0, mood = 15, health = 3)
human.do(go_to_park)

print(human)
# === Тарас ===
# Здоровье: 103
# Настроение: 115
# Капитал: 0
```

Учитывая добавление класса `Action`, изменить [проверку функционала](https://github.com/DarkValkier/C29246/edit/master/Exam.md#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D0%B0-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0-person-2-%D0%B1%D0%B0%D0%BB%D0%BB%D0%B0) (цикл `while True`) таким образом, чтобы он не изменял состояние объекта класса `Person`, а вызывал у него метод `do`, передавая туда объект класса `Action`. Перед циклом сделать список действий, которые в цикле можно будет передавать объекту человека.

## Реализация наследников класса Action (_2 балла_)
Унаследовать от `Action` два класса: `Work` и `Rest`. Их функционал остаётся тем же, что и у `Action`. 

В методе `do` класса `Person` проверять тип параметра, который пришёл (для этого использовать функцию `type()`). В зависимости от типа должно меняться и поведение метода:
- Если передан объект класса `Action` – просто изменить состояние человека на значения, указанные в объекте
- Если передан объект класса `Work` — то же, что и с `Action`, только если значение настроения больше 90, то денег должно прибавится на 10% больше
- Если передан объект класса `Rest` — то же, что и с `Action`, только если значение здоровья меньше 40, то настроения 
должно прибавится на 20% меньше

> Ещё раз обращаю внимание на то, что функционал с определением типа **должен быть в классе `Person`**, а не в классах `Action`, `Work` и `Rest`.

Пример использования функции `type()`:
```python

go_to_factory = Work(name = 'Пойти на завод', money = 50, mood = -10, health = -3)
go_to_park = Rest(name = 'Сходить в парк', money = 0, mood = 15, health = 3)
go_to_hospital = Action(name = 'Пойти в больницу', money = -20, mood = -5, health = 20)

print(type(go_to_factory) == Work) # true
print(type(go_to_park) == Work)    # false
print(type(go_to_hospital))        # <class '__main__.Action'>

```
